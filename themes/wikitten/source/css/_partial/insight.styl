// Insight Search Styles - Modernized with Glassmorphism
ins-container-width = 640px
ins-text-grey = #7f8c8d
ins-border-grey = rgba(255, 255, 255, 0.2)
ins-background-grey = rgba(255, 255, 255, 0.05)
ins-background-blue = linear-gradient(135deg, #667eea, #764ba2)

$ins-full-screen
    top: 0
    left: 0
    margin: 0
    width: 100%
    height: 100%

.ins-search
    display: none
    &.show
        display: block
        animation: fadeIn 0.3s ease

@keyframes fadeIn
    from
        opacity: 0
    to
        opacity: 1

.ins-selectable
    cursor: pointer

.ins-search-mask,
.ins-search-container
    position: fixed

.ins-search-mask
    top: 0
    left: 0
    width: 100%
    height: 100%
    z-index: 100
    background: rgba(0,0,0,0.6)
    backdrop-filter: blur(8px)
    -webkit-backdrop-filter: blur(8px)

.ins-input-wrapper
    position: relative

.ins-search-input
    width: 100%
    border: none
    outline: none
    font-size: 18px
    box-shadow: none
    font-weight: 400
    border-radius: 20px 20px 0 0
    background: rgba(255, 255, 255, 0.95)
    backdrop-filter: blur(10px)
    -webkit-backdrop-filter: blur(10px)
    line-height: 24px
    box-sizing: border-box
    padding: 18px 50px 18px 24px
    border-bottom: 2px solid rgba(102, 126, 234, 0.3)
    font-family: "Microsoft Yahei", "PingFang SC", Helvetica, Arial, sans-serif
    transition: all 0.3s ease
    &:focus
        background: white
        border-bottom-color: #667eea
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2)
    &::placeholder
        color: #bdc3c7

.ins-close
    top: 50%
    right: 12px
    width: 28px
    height: 28px
    font-size: 18px
    margin-top: -14px
    position: absolute
    text-align: center
    display: inline-block
    border-radius: 50%
    background: rgba(255, 255, 255, 0.8)
    line-height: 28px
    color: #7f8c8d
    transition: all 0.3s ease
    &:hover
        color: white
        background: linear-gradient(135deg, #667eea, #764ba2)
        transform: rotate(90deg) scale(1.1)
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4)

.ins-search-container
    left: 50%
    top: 80px
    z-index: 101
    bottom: 80px
    box-sizing: border-box
    width: ins-container-width
    margin-left: -(ins-container-width/2)
    border-radius: 20px
    overflow: hidden
    background: rgba(255, 255, 255, 0.3)
    backdrop-filter: blur(20px) saturate(180%)
    -webkit-backdrop-filter: blur(20px) saturate(180%)
    border: 1px solid rgba(255, 255, 255, 0.4)
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1) inset
    animation: slideDown 0.4s cubic-bezier(0.4, 0, 0.2, 1)
    @media screen and (max-width: 659px), screen and (max-height: 479px)
        top: 0
        left: 0
        margin: 0
        width: 100%
        height: 100%
        border-radius: 0
        background: rgba(255, 255, 255, 0.95)

@keyframes slideDown
    from
        opacity: 0
        transform: translateY(-30px)
    to
        opacity: 1
        transform: translateY(0)

.ins-section-wrapper
    left: 0
    right: 0
    top: 62px
    bottom: 0
    overflow-y: auto
    position: absolute
    /* Custom scrollbar */
    &::-webkit-scrollbar
        width: 8px
    &::-webkit-scrollbar-track
        background: rgba(255, 255, 255, 0.1)
        border-radius: 10px
    &::-webkit-scrollbar-thumb
        background: rgba(102, 126, 234, 0.3)
        border-radius: 10px
        &:hover
            background: rgba(102, 126, 234, 0.5)

.ins-section-container
    position: relative
    background: transparent
    padding: 8px

.ins-section
    font-size: 15px
    line-height: 20px
    margin-bottom: 8px
    .ins-section-header,
    .ins-search-item
        padding: 12px 20px
    .ins-section-header
        color: #667eea
        font-weight: 600
        font-size: 13px
        text-transform: uppercase
        letter-spacing: 1px
        border-bottom: none
        background: rgba(255, 255, 255, 0.4)
        backdrop-filter: blur(10px)
        border-radius: 12px
        margin-bottom: 8px
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05)
    .ins-slug
        margin-left: 8px
        color: ins-text-grey
        font-size: 12px
        &:before
            content: '('
        &:after
            content: ')'
    .ins-search-item
        header,
        .ins-search-preview
            overflow: hidden
            white-space: nowrap
            text-overflow: ellipsis
        background: rgba(255, 255, 255, 0.5)
        backdrop-filter: blur(10px)
        border-radius: 12px
        margin-bottom: 6px
        border: 1px solid rgba(255, 255, 255, 0.3)
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1)
        header
            font-weight: 500
            color: #2c3e50
            .fa
                margin-right: 10px
                color: #667eea
        .ins-search-preview
            height: auto
            max-height: 40px
            font-size: 13px
            color: ins-text-grey
            margin: 8px 0 0 32px
            line-height: 1.6
            overflow: hidden
            text-overflow: ellipsis
            display: -webkit-box
            -webkit-line-clamp: 2
            -webkit-box-orient: vertical
        &:hover,
        &.active
            color: white
            background: linear-gradient(135deg, #667eea, #764ba2)
            border-color: transparent
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3)
            transform: translateX(4px) scale(1.02)
            .ins-slug,
            .ins-search-preview
            .search-keyword
                color: white
            header
                color: white
                .fa
                    color: white
        .search-keyword
            color: #667eea
            font-size: 14px
            border-bottom: 2px solid #667eea
            font-weight: 600
            font-style: normal
            padding: 0 2px